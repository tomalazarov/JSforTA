<!DOCTYPE html>
<html>
<head>
  <title>AJAX Vote Example</title>
</head>
<body>
<!-- Task1 -->
  <!-- <button id="voteButton">Vote!</button> 

  <script>
    
    // document.getElementById('voteButton').addEventListener('click', castVote);

    // function castVote() {
    //   fetch('/vote')
    //     .then(response => {
    //       if (!response.ok) {
    //         throw new Error('There was a problem with the request.');
    //       }
    //       return response.text();
    //     })
    //     .then(data => {
    //       document.getElementById('voteButton').innerHTML = data;
    //     })
    //     .catch(error => {
    //       console.error(error.message);
    //     });
    // }
  </script> --> 

  <!-- Task 2 -->
  <button id="downloadBooks">Download books</button>
  <ul id="authorsList"></ul>

  <script>
    document.getElementById('downloadBooks').addEventListener('click', function() {
      const xhr = new XMLHttpRequest();
      
      xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            const authors = JSON.parse(xhr.responseText);
            displayAuthors(authors);
          } else {
            console.error('Error fetching authors:', xhr.status);
          }
        }
      };
      
      xhr.open('GET', 'authors.json', true);
      xhr.send();
    });
    
    function displayAuthors(authors) {
      const authorsList = document.getElementById('authorsList');
      authorsList.innerHTML = '';
      
      authors.forEach(function(author) {
        const listItem = document.createElement('li');
        listItem.textContent = author.name;
        authorsList.appendChild(listItem);
      });
    }
  </script>
</body>
</html>
